# 분리배출 가이드 MCP Server (쓰레기 분리배출 안내)

<img width="128" height="128" alt="recycle-guid-mcp-main-image" src="https://github.com/user-attachments/assets/c419cd17-4cf6-4621-a608-6967870e3510" />

**분리배출 가이드 MCP 서버**는 사용자가 자연어로 쓰레기 배출 방법을 물어보면, 공공데이터 기반의 정확한 분리배출 요령을 안내합니다.

> **🚀 지금 바로 사용해보기 (PlayMCP)**
>
> 본 서버는 카카오 PlayMCP에 등록되어 있습니다. 아래 링크에서 직접 테스트하고 구독하실 수 있습니다.
>
> [**분리배출 가이드 MCP Server 상세 페이지 바로가기**](https://playmcp.kakao.com/mcp/493)

## 프로젝트 개요

- **목적**: 헷갈리는 쓰레기 분리배출 방법(품목별, 재질별) 안내
- **기술 스택**: TypeScript, Node.js, Express, @modelcontextprotocol/sdk
- **특징**:
  - 카카오 MCP 가이드라인 준수 (HTTP SSE Transport, Stateless)
  - 로컬 JSON 데이터 사용으로 빠른 응답 속도
  - 개인정보 수집 없음

## 설치 및 실행 방법

### 1. 필수 요구사항

- Node.js v18 이상
- npm

### 2. 설치

```bash
npm install
```

### 3. 빌드

```bash
npm run build
```

### 4. 실행

```bash
npm start
```

서버는 기본적으로 `3000` 포트에서 실행됩니다.

- SSE 엔드포인트: `http://localhost:3000/sse`

### 5. 개발 모드

```bash
npm run dev
```

## 제공되는 Tools

### 1. `search_item_disposal`

- **설명**: 특정 물건의 이름으로 분리배출 방법을 검색합니다.
- **예시 질문**: "키보드 어떻게 버려?", "수박 껍질은 음식물 쓰레기야?"

### 2. `get_material_guide`

- **설명**: 재질(종이, 플라스틱 등)이나 폐기물 종류(폐가전, 대형폐기물)에 따른 가이드를 제공합니다.
- **예시 질문**: "플라스틱 버리는 법 알려줘", "폐가전 무료 수거 방법"

### 3. `search_faq`

- **설명**: 자주 묻는 질문(FAQ)을 검색합니다.
- **예시 질문**: "영수증은 재활용 되나요?", "병뚜껑은 어떻게 해요?"

## 카카오 MCP 심사 기준 준수 사항

- **최소 지원 버전**: MCP 2025-03-26 스펙 준수 (SDK `^1.0.0` 사용)
- **Transport**: `SSEServerTransport` (Streamable HTTP) 사용
- **Stateless**: 세션을 메모리(`Map`)에서 관리하되, 영구 저장소 없이 동작 (서버 재시작 시 초기화)
- **보안**: 개인정보를 수집하지 않으며, 401 Unauthorized 처리를 위한 미들웨어 구조 포함

## 테스트 방법 (MCP Inspector)

서버를 실행한 상태에서 MCP Inspector를 통해 테스트할 수 있습니다.

```bash
npx @modelcontextprotocol/inspector http://localhost:3000/sse
```

## 🚧 현재 한계점 및 향후 개선 계획

본 프로젝트는 **카카오 PlayMCP 등록 및 MCP Player 10 공모전 출품**을 목표로 빠르게 개발된 초기 버전입니다. 핵심 기능은 구현되어 있으나, 심사 이후 지속적인 업데이트를 통해 다음과 같은 사항들을 중점적으로 개선할 예정입니다.

### 1. 🛠️ 도구(Tool) 활용 최적화

- **현황**: 3가지 핵심 도구(`search_item_disposal`, `get_material_guide`, `search_faq`)가 구현되어 있으나, LLM이 사용자 의도에 맞춰 적절한 도구를 선택하지 못하는 경우가 간혹 발생합니다.
- **계획**: 도구 설명(Description)을 정교화하고 프롬프트 엔지니어링을 적용하여, 모델의 도구 선택 정확도와 활용성을 극대화할 계획입니다.

### 2. 📊 데이터 정제 및 고도화

- **현황**: 현재 데이터는 '2018년 재활용품 분리배출 가이드라인' 기반의 로컬 JSON과 공공 데이터 포털의 Open API를 혼용하고 있습니다. 특히 JSON 데이터의 경우 구조 정리가 필요하며, 일부 정보는 최신화가 필요합니다.
- **계획**:
  - 비정형화된 JSON 데이터를 체계적인 스키마로 재구성하여 데이터 무결성을 확보합니다.
  - 최신 개정 법령 및 지자체별 기준을 반영하여 데이터의 신뢰도를 높입니다.

### 3. ♻️ 코드 리팩토링 및 구조 개선

- **현황**: 공모전 일정에 맞춰 AI 코딩 도구를 적극 활용하여 빠르게 기능을 구현함에 따라, 현재 코드베이스에 대한 완전한 이해와 기술적 검증이 부족한 상태입니다. 지속적인 서비스 운영과 유지보수를 위해서는 코드에 대한 깊이 있는 파악과 구조 개선이 시급하다고 판단됩니다.
- **계획**:
  - **코드 완전 내재화**: 작성된 모든 코드를 면밀히 분석하여 동작 원리를 완벽히 파악하고, 개발자가 코드를 완전히 장악할 수 있도록 합니다.
  - **가독성 중심 리팩토링**: '나와 동료 모두가 이해할 수 있는 코드'를 목표로, 직관적인 네이밍과 명확한 로직으로 코드를 개선합니다.
  - **기술 부채 해소**: 중복 코드 제거, 모듈화, 에러 처리 강화를 통해 유지보수성을 확보하고 확장 가능한 구조를 만듭니다.

## 라이선스

MIT
